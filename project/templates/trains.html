{% extends "base.html" %}

{% block title %}Train Booking - TravelGo{% endblock %}

{% block content %}
<div class="service-container">
    <div class="service-header">
        <div class="service-icon">🚂</div>
        <h1>Train Booking</h1>
        <p>Fast and reliable train journeys across India</p>
    </div>
    
    <div class="search-section">
        <div class="search-card">
            <h3>Find Your Train</h3>
            <form class="search-form" method="POST" action="{{ url_for('search_trains') }}">
                <div class="form-row">
                    <div class="form-group">
                        <label>From</label>
                        <select name="origin">
                            <option>Select Origin</option>
                            <option>Delhi</option>
                            <option>Mumbai</option>
                            <option>Bangalore</option>
                            <option>Hyderabad</option>
                            <option>Ahmedabad</option>
                            <option>Chennai</option>
                            <option>Kolkata</option>
                            <option>Pune</option>
                            <option>Jaipur</option>
                            <option>Lucknow</option>
                            <option>Kanpur</option>
                            <option>Nagpur</option>
                            <option>Indore</option>
                            <option>Thane</option>
                            <option>Bhopal</option>
                            <option>Visakhapatnam</option>
                            <option>Pimpri-Chinchwad</option>
                            <option>Patna</option>
                            <option>Vadodara</option>
                            <option>Ghaziabad</option>
                            <option>Ludhiana</option>
                            <option>Agra</option>
                            <option>Nashik</option>
                            <option>Faridabad</option>
                            <option>Meerut</option>
                            <option>Rajkot</option>
                            <option>Kalyan-Dombivli</option>
                            <option>Vasai-Virar</option>
                            <option>Varanasi</option>
                            <option>Srinagar</option>
                            <option>Aurangabad</option>
                            <option>Dhanbad</option>
                            <option>Amritsar</option>
                            <option>Navi Mumbai</option>
                            <option>Allahabad</option>
                            <option>Ranchi</option>
                            <option>Howrah</option>
                            <option>Coimbatore</option>
                            <option>Jabalpur</option>
                            <option>Gwalior</option>
                            <option>Vijayawada</option>
                            <option>Jodhpur</option>
                            <option>Madurai</option>
                            <option>Raipur</option>
                            <option>Kota</option>
                            <option>Guwahati</option>
                            <option>Chandigarh</option>
                            <option>Solapur</option>
                            <option>Hubli–Dharwad</option>
                            <option>Bareilly</option>
                            <option>Mysore</option>
                            <option>Tiruchirappalli</option>
                            <option>Moradabad</option>
                            <option>Gurgaon</option>
                            <option>Aligarh</option>
                            <option>Jalandhar</option>
                            <option>Bhubaneswar</option>
                            <option>Salem</option>
                            <option>Mira-Bhayandar</option>
                            <option>Warangal</option>
                            <option>Guntur</option>
                            <option>Bhiwandi</option>
                            <option>Saharanpur</option>
                            <option>Gorakhpur</option>
                            <option>Bikaner</option>
                            <option>Noida</option>
                            <option>Jamshedpur</option>
                            <option>Bhilai</option>
                            <option>Cuttack</option>
                            <option>Firozabad</option>
                            <option>Kochi</option>
                            <option>Nellore</option>
                            <option>Bhavnagar</option>
                            <option>Dehradun</option>
                            <option>Durgapur</option>
                            <option>Asansol</option>
                            <option>Rourkela</option>
                            <option>Nanded</option>
                            <option>Kolhapur</option>
                            <option>Ajmer</option>
                            <option>Akola</option>
                            <option>Gulbarga</option>
                            <option>Jamnagar</option>
                            <option>Ujjain</option>
                            <option>Loni</option>
                            <option>Siliguri</option>
                            <option>Jhansi</option>
                            <option>Ulhasnagar</option>
                            <option>Nellore</option>
                            <option>Jammu</option>
                            <option>Sangli-Miraj & Kupwad</option>
                            <option>Mangalore</option>
                            <option>Erode</option>
                            <option>Belgaum</option>
                            <option>Kurnool</option>
                            <option>Ambattur</option>
                            <option>Rajahmundry</option>
                            <option>Tirunelveli</option>
                            <option>Malegaon</option>
                            <option>Gaya</option>
                            <option>Udaipur</option>
                            <option>Maheshtala</option>
                            <option>Davanagere</option>
                            <option>Kozhikode</option>
                            <option>Kurnool</option>
                            <option>Akola</option>
                            <option>Bokaro</option>
                            <option>Bellary</option>
                            <option>Patiala</option>
                            <option>Gopalpur</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>To</label>
                        <select name="destination">
                            <option>Select Destination</option>
                            <option>Delhi</option>
                            <option>Mumbai</option>
                            <option>Bangalore</option>
                            <option>Hyderabad</option>
                            <option>Ahmedabad</option>
                            <option>Chennai</option>
                            <option>Kolkata</option>
                            <option>Pune</option>
                            <option>Jaipur</option>
                            <option>Lucknow</option>
                            <option>Kanpur</option>
                            <option>Nagpur</option>
                            <option>Indore</option>
                            <option>Thane</option>
                            <option>Bhopal</option>
                            <option>Visakhapatnam</option>
                            <option>Pimpri-Chinchwad</option>
                            <option>Patna</option>
                            <option>Vadodara</option>
                            <option>Ghaziabad</option>
                            <option>Ludhiana</option>
                            <option>Agra</option>
                            <option>Nashik</option>
                            <option>Faridabad</option>
                            <option>Meerut</option>
                            <option>Rajkot</option>
                            <option>Kalyan-Dombivli</option>
                            <option>Vasai-Virar</option>
                            <option>Varanasi</option>
                            <option>Srinagar</option>
                            <option>Aurangabad</option>
                            <option>Dhanbad</option>
                            <option>Amritsar</option>
                            <option>Navi Mumbai</option>
                            <option>Allahabad</option>
                            <option>Ranchi</option>
                            <option>Howrah</option>
                            <option>Coimbatore</option>
                            <option>Jabalpur</option>
                            <option>Gwalior</option>
                            <option>Vijayawada</option>
                            <option>Jodhpur</option>
                            <option>Madurai</option>
                            <option>Raipur</option>
                            <option>Kota</option>
                            <option>Guwahati</option>
                            <option>Chandigarh</option>
                            <option>Solapur</option>
                            <option>Hubli–Dharwad</option>
                            <option>Bareilly</option>
                            <option>Mysore</option>
                            <option>Tiruchirappalli</option>
                            <option>Moradabad</option>
                            <option>Gurgaon</option>
                            <option>Aligarh</option>
                            <option>Jalandhar</option>
                            <option>Bhubaneswar</option>
                            <option>Salem</option>
                            <option>Mira-Bhayandar</option>
                            <option>Warangal</option>
                            <option>Guntur</option>
                            <option>Bhiwandi</option>
                            <option>Saharanpur</option>
                            <option>Gorakhpur</option>
                            <option>Bikaner</option>
                            <option>Noida</option>
                            <option>Jamshedpur</option>
                            <option>Bhilai</option>
                            <option>Cuttack</option>
                            <option>Firozabad</option>
                            <option>Kochi</option>
                            <option>Nellore</option>
                            <option>Bhavnagar</option>
                            <option>Dehradun</option>
                            <option>Durgapur</option>
                            <option>Asansol</option>
                            <option>Rourkela</option>
                            <option>Nanded</option>
                            <option>Kolhapur</option>
                            <option>Ajmer</option>
                            <option>Akola</option>
                            <option>Gulbarga</option>
                            <option>Jamnagar</option>
                            <option>Ujjain</option>
                            <option>Loni</option>
                            <option>Siliguri</option>
                            <option>Jhansi</option>
                            <option>Ulhasnagar</option>
                            <option>Nellore</option>
                            <option>Jammu</option>
                            <option>Sangli-Miraj & Kupwad</option>
                            <option>Mangalore</option>
                            <option>Erode</option>
                            <option>Belgaum</option>
                            <option>Kurnool</option>
                            <option>Ambattur</option>
                            <option>Rajahmundry</option>
                            <option>Tirunelveli</option>
                            <option>Malegaon</option>
                            <option>Gaya</option>
                            <option>Udaipur</option>
                            <option>Maheshtala</option>
                            <option>Davanagere</option>
                            <option>Kozhikode</option>
                            <option>Kurnool</option>
                            <option>Akola</option>
                            <option>Bokaro</option>
                            <option>Bellary</option>
                            <option>Patiala</option>
                            <option>Gopalpur</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Date</label>
                        <input type="date" name="date">
                    </div>
                    <button class="btn btn-primary" type="submit">Search Trains</button>
                </div>
            </form>
        </div>
    </div>
    
    <div class="results-section">
        <h2>Available Trains</h2>
        <div class="service-grid">
            {% for train in trains %}
            <div class="service-card">
                <div class="service-info">
                    <div class="service-title">
                        <h3>{{ train.name }}</h3>
                        <div class="service-route">{{ train.from }} → {{ train.to }}</div>
                    </div>
                    <div class="service-details">
                        <div class="detail-item">
                            <span class="detail-label">Departure:</span>
                            <span class="detail-value">{{ train.time }}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Duration:</span>
                            <span class="detail-value">{{ train.duration }}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Price:</span>
                            <span class="detail-price">₹{{ train.price }}</span>
                        </div>
                    </div>
                </div>
                <div class="service-actions">
                    <div class="amenities">
                        <span class="amenity">🍽️ Meals</span>
                        <span class="amenity">🛏️ Berth</span>
                        <span class="amenity">📶 WiFi</span>
                    </div>
                    {% if session.user_email %}
                        <a href="{{ url_for('book_service', service_type='train', service_id=train.id) }}" 
                           class="btn btn-primary">Book Now</a>
                    {% else %}
                        <a href="{{ url_for('signin') }}" class="btn btn-primary">Sign In to Book</a>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}